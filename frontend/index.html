<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Catalyst Photo Booth</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/css/styles.css">
    <script src="assets/js/smoke.js"></script>
</head>

<body>
    <canvas id="canvas">
    </canvas>
    <div class="login-dark">
        <div class="container">
            <div class="row">
                <div class="col">
                    <h1 class="text-center" style="color:white;/*padding:105px;*//*width:966px;*/height:200px;/*margin-left:100px;*/margin-top:100px;font-size:78px;">caтalyѕт pнoтo вooтн</h1>
                </div>
            </div>
            <div class="row">
                <div class="col offset-0">
                    <form method="post" style="color:black;">
                        <h2 class="sr-only">Login Form</h2>
                        <div class="form-group">
                            <input class="form-control" type="email" name="email" placeholder="Phone Number">
                        </div>
                        <div class="form-group">
                            <div class="dropdown">
                                <button class="btn btn-info dropdown-toggle" data-toggle="dropdown" aria-expanded="false" type="button">Select Filter Style&nbsp;</button>
                                <div class="dropdown-menu" role="menu">
                                    <a class="dropdown-item" role="presentation" href="#">First Item</a>
                                    <a class="dropdown-item" role="presentation" href="#">Second Item</a>
                                    <a class="dropdown-item" role="presentation" href="#">Third Item</a>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <button id="takephoto" class="btn btn-primary btn-block" type="submit">Take Photo</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <!-- [1] -->
        <div id="modal-1" aria-hidden="true">
            <!-- [2] -->
            <div tabindex="-1" data-micromodal-close>

                <!-- [3] -->
                <div role="dialog" aria-modal="true" aria-labelledby="modal-1-title">


                    <header>
                        <h2 id="modal-1-title">
                            Modal Title
                        </h2>

                        <!-- [4] -->
                        <button aria-label="Close modal" data-micromodal-close></button>
                    </header>

                    <div id="modal-1-content">
                        Modal Content
                    </div>

                </div>
            </div>
        </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://unpkg.com/micromodal/dist/micromodal.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0/js/bootstrap.bundle.min.js"></script>
    <script>
        $.ready(function() {
            $('#takephoto').onClick(function() {
                console.log("fd")
                MicroModal.show('modal-1');
            })
        })

        var canvas = document.getElementById('canvas')
        var ctx = canvas.getContext('2d')

        canvas.width = window.innerWidth
        canvas.height = window.innerHeight
        
        var gray = smokemachine(ctx, [100, 100, 100])
        var blue = smokemachine(ctx, [85, 195, 234])
        var pink = smokemachine(ctx, [230, 83, 149])

        var smokes = [blue, gray, pink]

        pink.start()
        gray.start()
        blue.start()

        // smokes.forEach(function(smoke) {
        //     smoke.start()
        // })

        function initSmoke(index) {
            var ratio = 1/2

            if (index == 0) {
                ratio = 1/3
            } else if (index == 2) {
                ratio = 2/3
            }
            // smokes[index].start()
            smokes[index].addsmoke(canvas.width * ratio, canvas.height, 100)
        }


        var i = 0;

        setInterval(function() {
            initSmoke(i)
            i += 1
            i %= smokes.length
        }, 500)

        // setTimeout(function(){

        //     party.stop() // stop animating

        //     party.addsmoke(600,500,100)
        //     party.addsmoke(500,600,20)

        //     for(var i=0;i<10;i++){
        //         party.step(10) // pretend 10 ms pass and rerender
        //     }

        //     setTimeout(function(){
        //         party.start()
        //     },1000)

        // },1000)
    </script>
</body>

</html>